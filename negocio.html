<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Local | Zonaap</title>
  <link rel="icon" href="assets/za-icon.svg">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --blue-900:#081f33; --blue-800:#0d355b; --blue-700:#0f3a66; --blue-100:#edf4fb;
      --ink:#0b1324; --muted:#5a6a85; --bg:#f3f6fb; --card:#fff; --border:#dee6ef;
      --yellow:#ffcc00; --ok:#16a34a; --err:#dc2626;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif; background:var(--bg); color:var(--ink);}
    .wrap{max-width:980px;margin:0 auto;padding:0 16px;}
    .hero{background:linear-gradient(135deg,var(--blue-800),var(--blue-900)); color:#fff; padding:20px 0 28px;}
    .back{color:#cfe2ff; text-decoration:none; font-weight:800; display:inline-block; margin:6px 0 12px;}
    .top{display:flex; align-items:center; gap:16px;}
    .logo{width:64px; height:64px; border-radius:14px; border:1px solid #123d64; background:#0a2a46; display:grid; place-items:center;}
    .logo img{width:44px;height:44px}
    .h1{margin:0; font-size:34px; font-weight:900;}
    .sub{margin:2px 0 0; opacity:.85;}
    /* Acorde√≥n */
    .acc{display:grid; gap:14px; margin:16px 0 120px;}
    .acc-item{border:1px solid var(--border); border-radius:16px; overflow:hidden; background:#fff; box-shadow:0 8px 18px rgba(0,0,0,.05)}
    .acc-item[open]{box-shadow:0 12px 24px rgba(0,0,0,.07)}
    .acc-summary{list-style:none; cursor:pointer; padding:14px 16px; background:linear-gradient(90deg,#0d355b,#0a2845); color:#fff; display:flex; align-items:center; justify-content:space-between; gap:12px; font-weight:800;}
    .acc-summary::-webkit-details-marker{display:none}
    .acc-title{font-size:1.05rem; letter-spacing:.2px;}
    .acc-right{display:flex; align-items:center; gap:10px;}
    .acc-badge{background:#fff; color:#0a2845; font-weight:900; min-width:28px; height:28px; border-radius:999px; display:grid; place-items:center; padding:0 8px;}
    .chev{transition:transform .18s ease}
    .acc-item[open] .chev{transform:rotate(180deg)}
    .acc-content{background:#f6f8fb; padding:8px 8px 12px;}
    /* Producto */
    .prod{display:grid; grid-template-columns:56px 1fr auto; gap:12px; align-items:center; background:#fff; border:1px solid #e7edf4; border-radius:12px; padding:8px 10px;}
    .prod + .prod{margin-top:8px}
    .prod-thumb{width:56px; height:56px; border-radius:10px; overflow:hidden; background:#eef2f7; display:grid; place-items:center; border:1px solid #e5e7eb;}
    .prod-thumb img{width:100%; height:100%; object-fit:cover}
    .prod-info h4{margin:0; font-size:1rem; color:#0f3a66}
    .prod-info p{margin:2px 0 0; color:#52607a; font-size:.92rem}
    .prod-price{margin-top:4px; font-weight:900; color:#0b376d}
    .qty{display:flex; align-items:center; gap:.6rem}
    .qty button{width:36px; height:36px; border-radius:12px; border:2px solid #0f3a66; background:#fff; font-size:1.1rem; font-weight:900; cursor:pointer;}
    .qty .q{min-width:24px; text-align:center; font-weight:800}
    /* FAB */
    .fab{position:fixed; right:16px; bottom:calc(18px + env(safe-area-inset-bottom)); z-index:50; background:#11263f; color:#fff; border:2px solid #ffcc00; display:flex; align-items:center; gap:.6rem; padding:.7rem 1rem; border-radius:9999px; font-weight:900; box-shadow:0 12px 28px rgba(0,0,0,.35); cursor:pointer;}
    .fab .count{background:#ffcc00; color:#08223b; width:28px; height:28px; display:grid; place-items:center; border-radius:999px; font-weight:900}
    .fab.hide{opacity:0; transform:translateY(8px); filter:blur(2px); pointer-events:none; transition:all .18s ease}
    /* Sheet */
    .backdrop{position:fixed; inset:0; background:rgba(0,0,0,.32); opacity:0; pointer-events:none; transition:opacity .22s ease; z-index:60}
    .backdrop.open{opacity:1; pointer-events:auto}
    .sheet{position:fixed; left:0; right:0; bottom:0; transform:translateY(100%); background:#fff; border-top-left-radius:16px; border-top-right-radius:16px; box-shadow:0 22px 56px rgba(0,0,0,.45); transition:transform .28s ease-out; max-height:92vh; display:grid; grid-template-rows:auto 1fr; z-index:70}
    .sheet.open{transform:translateY(0)}
    .sheet-header{position:sticky; top:0; background:#fff; border-bottom:1px solid #e8e8e8; padding:.6rem .8rem .4rem; padding-right:56px; border-top-left-radius:16px; border-top-right-radius:16px;}
    .sheet-title{margin:0 0 .35rem; font-size:1.05rem; font-weight:900; color:#0b376d}
    .close{position:absolute; right:8px; top:6px; width:44px; height:44px; display:grid; place-items:center; background:#ffffffcc; backdrop-filter:saturate(1.2) blur(2px); border:1px solid #d7d7d7; border-radius:12px; font-size:22px; color:#0d355b; cursor:pointer}
    .body{overflow:auto; padding:.8rem .9rem 1rem}
    .steps{display:flex; gap:.5rem; align-items:center; font-weight:900; font-size:.9rem; color:#64748b;}
    .step{display:flex; align-items:center; gap:.4rem}
    .dot{width:10px; height:10px; border-radius:999px; background:#cbd5e1}
    .step.active{color:#0b376d}
    .step.active .dot{background:#ffcc00}
    .seg{display:flex; gap:.5rem; margin:.6rem 0}
    .seg input{display:none}
    .seg label{flex:1; text-align:center; padding:.7rem 1rem; border:1px solid #cfd3dc; border-radius:12px; cursor:pointer; font-weight:900; background:#fff; transition:.15s}
    .seg input:checked + label{background:#0d355b; color:#ffcc00; border-color:#0d355b; box-shadow:0 6px 16px rgba(0,0,0,.12)}
    label{display:block; font-weight:900; margin-top:10px}
    input[type="text"]{width:100%; padding:12px 12px; border-radius:12px; border:1px solid #cfd3dc; font-size:16px}
    .resume{background:#fff9da; border:1px solid #ffe79c; border-radius:12px; padding:10px}
    .line{display:flex; justify-content:space-between; padding:4px 0}
    .line.total{border-top:1px dashed #e0cc77; margin-top:6px; padding-top:8px; font-size:18px; font-weight:900}
    .btns{display:flex; gap:.6rem; flex-wrap:wrap; margin-top:10px}
    .btn{background:#0d355b; color:#ffcc00; border:2px solid #ffcc00; border-radius:12px; padding:10px 14px; font-weight:900; cursor:pointer}
    .btn.alt{background:#fff; color:#0d355b; border-color:#0d355b}
    .muted{color:#64748b; font-size:.9rem}
  </style>
</head>
<body>
  <div class="hero">
    <div class="wrap">
      <a href="index.html" class="back">‚Üê Volver</a>
      <div class="top">
        <div class="logo"><img src="assets/za-icon.svg" alt=""></div>
        <div>
          <h1 id="shopName" class="h1">Local</h1>
          <p id="shopSub" class="sub">Hecha como en casa</p>
        </div>
      </div>
    </div>
  </div>

  <main class="wrap">
    <section id="categorias" class="acc"></section>
  </main>

  <!-- FAB -->
  <button id="fab" class="fab hide" aria-label="Ver pedido">
    <span>üõí</span>
    <span id="fabTotal">$ 0</span>
    <span class="count" id="fabCount">0</span>
  </button>

  <!-- Sheet -->
  <div id="backdrop" class="backdrop"></div>
  <div id="sheet" class="sheet" aria-modal="true" aria-hidden="true">
    <div class="sheet-header">
      <h3 class="sheet-title">Tu pedido</h3>
      <div class="steps">
        <div class="step" data-step="1"><span class="dot"></span><span>Datos</span></div>
        <span>‚Üí</span>
        <div class="step" data-step="2"><span class="dot"></span><span>Resumen</span></div>
        <span>‚Üí</span>
        <div class="step" data-step="3"><span class="dot"></span><span>WhatsApp</span></div>
      </div>
      <button id="close" class="close">‚úï</button>
    </div>
    <div class="body">
      <div class="seg" role="tablist" aria-label="Entrega">
        <input id="ret" type="radio" name="envio" value="retiro"><label for="ret">Retiro</label>
        <input id="env" type="radio" name="envio" value="envio"><label id="envLbl" for="env">Env√≠o</label>
      </div>
      <label>Nombre
        <input id="name" type="text" placeholder="Tu nombre">
      </label>
      <label id="addrWrap" style="display:none">Direcci√≥n
        <input id="addr" type="text" placeholder="Calle, n√∫mero, piso/depto">
      </label>

      <div class="resume" style="margin-top:10px">
        <h3 style="margin:0 0 6px">Resumen del pedido</h3>
        <div id="lines"></div>

        <div style="display:grid; gap:8px; margin:8px 0">
          <label>Nota (opcional)
            <input id="note" type="text" placeholder="Ej: sin sal, dejar en porter√≠a">
          </label>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px">
            <label>Cup√≥n (opcional)
              <input id="coupon" type="text" placeholder="C√≥digo">
            </label>
            <label>Propina (opcional %)
              <input id="tip" type="text" inputmode="numeric" placeholder="0, 5, 10‚Ä¶">
            </label>
          </div>
        </div>

        <div id="totals">
          <div class="line"><span>Subtotal</span><span id="sub">$ 0</span></div>
          <div class="line" id="shipLine" style="display:none"><span>Env√≠o</span><span id="ship">$ 0</span></div>
          <div class="line" id="discLine" style="display:none"><span>Descuento</span><span id="disc">-$ 0</span></div>
          <div class="line" id="tipLine" style="display:none"><span>Propina</span><span id="tipAmt">$ 0</span></div>
          <div class="line total"><span>Total</span><span id="total">$ 0</span></div>
        </div>
        <div class="btns">
          <button id="wa" class="btn">Hacer pedido por WhatsApp</button>
          <button id="clear" class="btn alt">Vaciar carrito</button>
        </div>
        <p class="muted" id="warn"></p>
      </div>
    </div>
  </div>

  <script src="js/store.js"></script>
</body>
</html>
